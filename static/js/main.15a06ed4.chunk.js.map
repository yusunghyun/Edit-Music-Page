{"version":3,"sources":["lib/styles/palette.js","components/auth/AuthTemplate.js","lib/api/index.js","modules/auth.js","components/common/Button.js","components/auth/AuthForm.js","containers/LoginContainer.js","components/Login.js","containers/RegisterContainer.js","components/Register.js","components/common/Responsive.js","components/PasswordModal.js","components/Navbar.js","containers/NavbarContainer.js","components/EditMusic.js","components/MusicList.js","modules/music.js","components/AddMusic.js","components/Search.js","containers/MusicContainer.js","components/MusicPage.js","App.js","serviceWorker.js","modules/index.js","index.js"],"names":["palette","gray","cyan","AuthTemplateBlock","styled","div","WhiteBox","AuthTemplate","children","request","method","url","data","axios","then","result","catch","response","status","setAuthInHeader","token","defaults","headers","common","auth","userid","password","username","id","music","file","title","artist","album","track","changeField","createAction","initializeForm","loginSuccessAction","loginFailureAction","registerSuccessAction","registerFailureAction","logoutAction","modalOpenAction","modalCloseAction","initialState","register","passwordConfirm","login","accessToken","authError","isModal","handleActions","state","payload","form","key","value","produce","draft","loading","error","StyledButton","button","props","fullWidth","css","Button","ErrorMessage","textMap","AuthFormBlock","StyledInput","input","Footer","ButtonWithMarginTop","AuthForm","type","onChange","onSubmit","text","autoComplete","name","placeholder","to","withRouter","history","useState","setError","dispatch","useDispatch","useSelector","useEffect","push","e","target","preventDefault","a","api","localStorage","loginAsync","Login","console","log","includes","registerAsync","Register","ResponsiveBlock","Responsive","rest","PasswordModal","editPasswordAsync","React","setValue","Fragment","className","onClick","HeaderBlock","Wrapper","Spacer","logoutAsync","NavbarContainer","err","RemoveBtn","EditBtn","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","EditMusic","subtitle","ele","updateMusicListAsync","getMusicListAsync","deleteMusicListAsync","modalIsOpen","setIsOpen","closeModal","editTitle","setEditTitle","editArtist","setEditArtist","editAlbum","setEditAlbum","editTrack","setEditTrack","isOpen","onAfterOpen","style","color","onRequestClose","contentLabel","ref","_subtitle","List","Item","Text","MusicList","searchMusic","musicList","searchMusicAction","length","map","idx","getMusicList","filter","indexOf","Form","Div","Div2","AddBtn","AddMusic","postMusicListAsync","fd","FormData","encType","accept","Search","search","setSearch","MusicContainer","Template","MusicPage","component","path","Boolean","window","location","hostname","match","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","loadUser","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.15a06ed4.chunk.js","sourcesContent":["const palette = {\r\n  gray: [\r\n    '#f8f9fa',\r\n    '#f1f3f5',\r\n    '#e9ecef',\r\n    '#dee2e6',\r\n    '#ced4da',\r\n    '#adb5bd',\r\n    '#868e96',\r\n    '#495057',\r\n    '#343a40',\r\n    '#212529',\r\n  ],\r\n  cyan: [\r\n    '#e3fafc',\r\n    '#c5f6fa',\r\n    '#99e9f2',\r\n    '#66d9e8',\r\n    '#3bc9db',\r\n    '#22b8cf',\r\n    '#15aabf',\r\n    '#1098ad',\r\n    '#0c8599',\r\n    '#0b7285',\r\n  ],\r\n};\r\n\r\nexport default palette;","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport palette from '../../lib/styles/palette'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst AuthTemplateBlock = styled.div`\r\n  position: absolute;\r\n  left:0;\r\n  top:0;\r\n  bottom:0;\r\n  right:0;\r\n  background:${palette.gray[2]};\r\n  display:flex;\r\n  flex-direction:column;\r\n  justify-content:center;\r\n  align-items:center;\r\n`;\r\n\r\nconst WhiteBox = styled.div`\r\n  .logo-area {\r\n    display:block;\r\n    padding-bottom:2rem;\r\n    text-align:center;\r\n    font-weight:bold;\r\n    letter-spacing:2px;\r\n  }\r\n  box-shadow: 0 0 8px rgba(0,0,0,0.025);\r\n  padding:2rem;\r\n  width:360px;\r\n  background:white;\r\n  border-radius:2px;\r\n`;\r\n\r\nconst AuthTemplate = ({children}) => {\r\n  return (\r\n    <AuthTemplateBlock>\r\n      <WhiteBox>\r\n        {children}\r\n      </WhiteBox>\r\n    </AuthTemplateBlock>\r\n  )\r\n}\r\nexport default AuthTemplate","import axios from 'axios'\r\n\r\nconst DOMAIN = 'http://api.ysh616.com'\r\nconst UNAUTHORIZED = 401\r\n\r\n\r\nconst request = (method, url, data) => {\r\n  return axios({\r\n    method,\r\n    url: DOMAIN + url,\r\n    data\r\n  }).then(result => {\r\n    return result.data\r\n  })\r\n    .catch(result => {\r\n      const {status} = result.response\r\n      // if (status === UNAUTHORIZED) 로그인창으로 보내는 문장\r\n      throw result.response\r\n    })\r\n}\r\n\r\nexport const setAuthInHeader = token => {\r\n  axios.defaults.headers.common['Authorization'] = token ? `Bearer ${token}` : null;\r\n}\r\n\r\nexport const auth = {\r\n  login({userid,password}){\r\n    return request('post','/auth/login',{userid,password})\r\n  },\r\n  register({userid,username,password}){\r\n    return request('post','/auth/register',{userid,username,password})\r\n  },\r\n  logout(){\r\n    return request('post','/auth/logout')\r\n  },\r\n  update({id,password}){\r\n    return request('put','/auth/update',{id,password})\r\n  }\r\n}\r\n\r\nexport const music = {\r\n  async getMusicList(){\r\n    let data = await request('get','/music/musiclist')\r\n    return data\r\n  },\r\n  async postMusic(file){\r\n    let data = await request('post','/music/musiclist',file,{headers:{'Content-Type':'multipart/form-data'}})\r\n    return data\r\n  },\r\n  async updateMusic({id,title,artist,album,track}){\r\n    let data = await request('put','/music/musiclist',{id,title,artist,album,track})\r\n    return data\r\n  },\r\n  async deleteMusic({id}){\r\n    let data = await request('delete','/music/musiclist',{id})\r\n    return data\r\n  },\r\n}","import { handleActions, createAction } from 'redux-actions'\r\nimport produce from 'immer'\r\nimport * as api from '../lib/api'\r\n\r\nconst CHANGE_FIELD = 'auth/CHANGE_FIELD'\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM'\r\n\r\nconst LOGIN = 'auth/LOGIN'\r\nconst LOGIN_SUCCESS = 'auth/LOGIN_SUCCESS'\r\nconst LOGIN_FAILURE = 'auth/LOGIN_FAILURE'\r\n\r\nconst REGISTER = 'auth/REGISTER'\r\nconst REGISTER_SUCCESS = 'auth/REGISTER_SUCCESS'\r\nconst REGISTER_FAILURE = 'auth/REGISTER_FAILURE'\r\n\r\nconst LOGOUT = 'auth/LOGOUT'\r\n\r\nconst MODAL_OPEN = 'auth/MODAL_OPEN'\r\nconst MODAL_CLOSE = 'auth/MODAL_CLOSE'\r\n\r\nconst EDIT_PASSWORD = 'auth/EDIT_PASSWORD'\r\n\r\nexport const changeField = createAction(CHANGE_FIELD)\r\nexport const initializeForm = createAction(INITIALIZE_FORM);//register\r\n\r\nexport const loginAction = createAction(LOGIN)\r\nexport const loginSuccessAction = createAction(LOGIN_SUCCESS)\r\nexport const loginFailureAction = createAction(LOGIN_FAILURE)\r\n\r\nexport const registerAction = createAction(REGISTER)\r\nexport const registerSuccessAction = createAction(REGISTER_SUCCESS)\r\nexport const registerFailureAction = createAction(REGISTER_FAILURE)\r\n\r\nexport const logoutAction = createAction(LOGOUT)\r\n\r\nexport const modalOpenAction = createAction(MODAL_OPEN)\r\nexport const modalCloseAction = createAction(MODAL_CLOSE)\r\n\r\nexport const editPasswordAction = createAction(EDIT_PASSWORD)\r\n\r\nconst initialState = {\r\n  register:{\r\n    userid:'',\r\n    username:'',\r\n    password:'',\r\n    passwordConfirm:'',\r\n  },\r\n  login:{\r\n    userid:'',\r\n    password:'',\r\n  },\r\n  accessToken:null,\r\n  authError:null,\r\n  isModal:false,\r\n}\r\n\r\nconst auth = handleActions({\r\n  [CHANGE_FIELD]: (state, {payload:{form,key,value}}) => \r\n    produce(state, draft=>{\r\n      draft[form][key] = value;\r\n    }),\r\n  [INITIALIZE_FORM]: (state, {payload:form}) => ({\r\n    ...state,\r\n    [form]: initialState[form],\r\n    authError:null,\r\n  }),\r\n  [LOGIN]: (state,{payload}) => ({\r\n    ...state,\r\n    loading:true\r\n  }),\r\n  [LOGIN_SUCCESS]: (state,{payload:accessToken}) => ({\r\n    ...state,\r\n    authError:null,\r\n    accessToken,\r\n  }),\r\n  [LOGIN_FAILURE]: (state,{payload:error}) => ({\r\n    ...state,\r\n    authError:error,\r\n  }),\r\n  [REGISTER]: (state,{payload}) => ({\r\n    ...state,\r\n    \r\n  }),\r\n  [REGISTER_SUCCESS]: (state,{payload:accessToken}) => ({\r\n    ...state,\r\n    authError:null,\r\n    accessToken,\r\n  }),\r\n  [REGISTER_FAILURE]: (state,{payload:error}) => ({\r\n    ...state,\r\n    authError:error,\r\n  }),\r\n  [LOGOUT]: (state,{payload}) => ({\r\n    ...state,\r\n    accessToken:null,\r\n  }),\r\n  [MODAL_OPEN]:(state,{payload}) => ({\r\n    ...state,\r\n    isModal:true,\r\n  }),\r\n  [MODAL_CLOSE]:(state,{payload}) => ({\r\n    ...state,\r\n    isModal:false\r\n  }),\r\n  \r\n},initialState)\r\n\r\nexport default auth;\r\n\r\nexport const loginAsync = ({userid,password}) => async dispatch => {\r\n  try{\r\n    const result = await api.auth.login({userid,password})\r\n    dispatch(loginSuccessAction({accessToken:result.accessToken}))\r\n    localStorage.accessToken = result.accessToken\r\n    localStorage.id = result.id\r\n    api.setAuthInHeader(result.accessToken)\r\n  } catch(err){\r\n    dispatch(loginFailureAction({error:err}))\r\n  }\r\n}\r\n\r\nexport const registerAsync = ({userid,password,username}) => async dispatch => {\r\n  try{\r\n    const result = await api.auth.register({userid,password,username})\r\n    dispatch(registerSuccessAction({accessToken:result.accessToken}))\r\n    localStorage.accessToken = result.accessToken\r\n    localStorage.id = result.id\r\n    api.setAuthInHeader(result.accessToken)\r\n  } catch(err) {\r\n    dispatch(registerFailureAction({error:err}))\r\n  }\r\n}\r\n\r\nexport const logoutAsync = () => dispatch => {\r\n  try{\r\n    api.auth.logout()\r\n    dispatch(logoutAction())\r\n    delete localStorage.accessToken\r\n    delete localStorage.id\r\n    api.setAuthInHeader(null)\r\n  } catch(err){\r\n    console.error(err)\r\n  }\r\n}\r\n\r\nexport const editPasswordAsync = ({id,password}) => async dispatch => {\r\n  try{\r\n    const result = await api.auth.update({id,password})\r\n  } catch(err) {\r\n    console.error(err)\r\n  }\r\n}\r\n// export const  = () => async dispatch => {\r\n//   const result = await \r\n//   return \r\n// }","import React from 'react'\r\nimport styled,{css} from 'styled-components'\r\nimport palette from '../../lib/styles/palette'\r\n\r\nconst StyledButton = styled.button`\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  padding: 0.25rem 1rem;\r\n  color: white;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  background: #22b8cf;\r\n  &:hover {\r\n    background ${palette.gray[6]};\r\n  }\r\n  ${props => \r\n    props.fullWidth &&\r\n    css`\r\n      padding-top:0.75rem;\r\n      padding-bottom:0.75rem;\r\n      width:100%;\r\n      font-size:1.125rem;\r\n    `}\r\n  ${props =>\r\n    props.cyan &&\r\n    css`\r\n      background: #22b8cf;\r\n      &:hover{\r\n        background: ${palette.cyan[4]}\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Button = props => <StyledButton {...props} />;\r\n\r\nexport default Button;","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport {Link} from 'react-router-dom'\r\nimport palette from '../../lib/styles/palette'\r\nimport Button from '../common/Button'\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n  text-align: center;\r\n  font-size: 0.875rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst textMap = {\r\n  login: '로그인',\r\n  register: '회원가입',\r\n}\r\n\r\nconst AuthFormBlock = styled.div`\r\n  h3{\r\n    margin:0;\r\n    color:${palette.gray[8]};\r\n    margin-bottom:1rem;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  font-size:1rem;\r\n  border:none;\r\n  border-bottom: 1px solid ${palette.gray[5]};\r\n  padding-bottom: 0.5rem;\r\n  outline: none;\r\n  width:100%;\r\n  &:focus{\r\n    color: ${palette.gray[2]};\r\n    border-bottom: 1px solid ${palette.gray[7]};\r\n  }\r\n  &+&{\r\n    margin-top:1rem;\r\n  }\r\n`;\r\n\r\nconst Footer = styled.div`\r\n  margin-top:2rem;\r\n  text-align:right;\r\n  a{\r\n    color:${palette.gray[6]};\r\n    text-decoration:underline;\r\n    &:hover{\r\n      color:${palette.gray[9]};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ButtonWithMarginTop = styled(Button)`\r\n  margin-top:1rem;\r\n`;\r\n\r\nconst AuthForm = ({type,form,onChange,onSubmit,error}) => {\r\n  const text = textMap[type]\r\n  return (\r\n    <AuthFormBlock>\r\n      <h3>{text}</h3>\r\n      <form onSubmit={onSubmit}>\r\n        {type === 'register' && (\r\n          <StyledInput\r\n            autoComplete='username'\r\n            name='username'\r\n            placeholder='이름'\r\n            onChange={onChange}\r\n            value={form.username}\r\n          />\r\n        )}\r\n        <StyledInput autoComplete=\"userid\" name=\"userid\" placeholder=\"아이디\" onChange={onChange} value={form.userid}/>\r\n        <StyledInput\r\n          autoComplete=\"new-password\"\r\n          name=\"password\"\r\n          placeholder=\"비밀번호\"\r\n          type=\"password\"\r\n          onChange={onChange}\r\n          value={form.password}\r\n        />\r\n        {type === 'register' && (\r\n          <StyledInput\r\n            autoComplete='new-password'\r\n            name='passwordConfirm'\r\n            placeholder='비밀번호 확인'\r\n            type='password'\r\n            onChange={onChange}\r\n            value={form.passwordConfirm}\r\n          />\r\n        )}\r\n        {error && <ErrorMessage>{error}</ErrorMessage>}\r\n        <ButtonWithMarginTop cyan fullWidth>{text}</ButtonWithMarginTop>\r\n      </form>\r\n      <Footer>\r\n        {type === 'login' ? (\r\n          <Link to='/register'>회원가입</Link>\r\n        ) : (\r\n          <Link to='/login'>로그인</Link>\r\n        )}\r\n      </Footer>\r\n    </AuthFormBlock>\r\n  )\r\n}\r\n\r\nexport default AuthForm","import React,{useEffect,useState} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {changeField,initializeForm,loginAsync} from '../modules/auth'\r\nimport AuthForm from '../components/auth/AuthForm';\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nconst LoginContainer = ({history}) => {\r\n  const [error,setError] = useState(null)\r\n  const dispatch = useDispatch();\r\n  const {form,accessToken,authError} = useSelector(({auth})=>({\r\n    form:auth.login,\r\n    accessToken:auth.accessToken,\r\n    authError:auth.authError,\r\n  }))\r\n  const onChange = e => {\r\n    const {value,name} = e.target;\r\n    dispatch(\r\n      changeField({\r\n        form:'login',\r\n        key:name,\r\n        value\r\n      })\r\n    );\r\n  };\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    const {userid,password} = form;\r\n    dispatch(loginAsync({userid,password}))\r\n\r\n  }\r\n  useEffect(()=>{\r\n    dispatch(initializeForm('login'));\r\n  },[dispatch])\r\n  \r\n  useEffect(()=>{\r\n    if(authError){\r\n      setError('로그인 실패')\r\n      return;\r\n    }\r\n    if(accessToken){\r\n      history.push('/')\r\n    }\r\n  },[history,accessToken,authError])///나중에 만져보자 user 모듈 만들어야 할수도!\r\n\r\n  \r\n  return (\r\n    <AuthForm\r\n      type='login'\r\n      form={form}\r\n      onChange={onChange}\r\n      onSubmit={onSubmit}\r\n      error={error}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(LoginContainer);","import React from 'react';\r\nimport AuthTemplate from './auth/AuthTemplate'\r\nimport LoginContainer from '../containers/LoginContainer'\r\n\r\nconst Login = () => {\r\n  return (\r\n    <AuthTemplate>\r\n      <LoginContainer/>\r\n    </AuthTemplate>\r\n  );\r\n};\r\n\r\nexport default Login;","import React,{useEffect,useState} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {changeField,initializeForm,registerAsync} from '../modules/auth'\r\nimport AuthForm from '../components/auth/AuthForm';\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nconst RegisterContainer = ({history}) => {\r\n  const [error,setError] = useState(null)\r\n  const dispatch = useDispatch();\r\n  const {form, accessToken, authError} = useSelector(({auth})=>({\r\n    form:auth.register,\r\n    accessToken:auth.accessToken,\r\n    authError:auth.authError\r\n\r\n  }))\r\n  const onChange = e => {\r\n    const {value,name} = e.target;\r\n    dispatch(\r\n      changeField({\r\n        form:'register',\r\n        key:name,\r\n        value\r\n      })\r\n    );\r\n  };\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    const {userid,username,password,passwordConfirm} = form;\r\n    if([userid,passwordConfirm,password].includes('')){\r\n      setError('빈칸을 모두 입력해 주세요')\r\n      return;\r\n    }\r\n    if(password !== passwordConfirm){\r\n      setError('비밀번호가 일치하지 않습니다.')\r\n      return;\r\n    }\r\n    dispatch(registerAsync({userid,username,password}))\r\n  }\r\n  useEffect(()=>{\r\n    dispatch(initializeForm('register'));\r\n  },[dispatch])\r\n  useEffect(()=>{\r\n    if(authError){\r\n      if(authError.response.status === 409){\r\n        setError('이미 존재하는 계정명입니다.')\r\n      }\r\n      setError('회원가입 실패')\r\n      return;\r\n    }\r\n    if(accessToken){\r\n      console.log('회원가입성공 registerContainer')\r\n      history.push('/')\r\n    }\r\n  },[accessToken,authError])///나중에 만져보자 user 모듈 만들어야 할수도!\r\n\r\n  \r\n  return (\r\n    <AuthForm\r\n      type='register'\r\n      form={form}\r\n      onChange={onChange}\r\n      onSubmit={onSubmit}\r\n      error={error}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(RegisterContainer);","import React from 'react';\r\nimport AuthTemplate from './auth/AuthTemplate'\r\nimport RegisterContainer from '../containers/RegisterContainer'\r\n\r\nconst Register = () => {\r\n  return (\r\n    <AuthTemplate>\r\n      <RegisterContainer/>\r\n    </AuthTemplate>\r\n  );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport styled from 'styled-components'\r\n\r\nconst ResponsiveBlock = styled.div`\r\n  padding-left:1rem;\r\n  padding-right:1rem;\r\n  width:1024px;\r\n  margin:0 auto;\r\n  @media (max-width: 1024px){\r\n    width:768px;\r\n  }\r\n  @media(max-width: 768px){\r\n    width:100%\r\n  }\r\n`;\r\n\r\nconst Responsive = ({children, ...rest }) => {\r\n  return (\r\n    <ResponsiveBlock {...rest}>{children}</ResponsiveBlock>\r\n  );\r\n};\r\n\r\nexport default Responsive;","import React from 'react';\r\nimport Button from './common/Button'\r\n\r\n\r\nconst PasswordModal = ({isModal,modalCloseAction,modalOpenAction,editPasswordAsync}) => {\r\n  const [value,setValue] = React.useState()\r\n\r\n  return (\r\n    <React.Fragment>\r\n   \t  {\r\n        isModal ?\r\n        <React.Fragment>\r\n        <div className=\"Modal-overlay\" />\r\n        <div className=\"Modal\">\r\n          <p className=\"title\">비밀번호 변경</p>\r\n          <div className=\"content\">\r\n            <form onSubmit={(e)=>{\r\n              e.preventDefault();\r\n              editPasswordAsync({id:localStorage.id,password:value})\r\n              modalCloseAction()\r\n              }}>\r\n              <input\r\n              autoComplete=\"new-password\"\r\n              name=\"password\"\r\n              placeholder=\"비밀번호\"\r\n              type=\"password\"\r\n              value={value}\r\n              onChange={(e)=>{setValue(e.target.value)}}\r\n              />\r\n              <button type='submit'> 변경 </button>\r\n            </form>\r\n          </div>\r\n          <div className=\"button-wrap\">\r\n            <p onClick={modalCloseAction}> 닫기 </p>\r\n          </div>\r\n        </div>\r\n        </React.Fragment>\r\n        : <Button onClick={modalOpenAction}>비밀번호변경</Button>\r\n      }\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PasswordModal;","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport Responsive from './common/Responsive'\r\nimport Button from './common/Button'\r\nimport {withRouter} from 'react-router-dom'\r\nimport PasswordModal from './PasswordModal';\r\n\r\nconst HeaderBlock = styled.div`\r\n  position:fixed;\r\n  width:100%;\r\n  background:white;\r\n  box-shadow:0px 2px 4px rgba(0,0,0,0.08);\r\n`;\r\n\r\nconst Wrapper = styled(Responsive)`\r\n  height: 4rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  .logo{\r\n    font-size: 1.125rem;\r\n    font-weight: 800;\r\n    letter-spacing: 2px;\r\n    color: #22b8cf;\r\n  }\r\n  .right{\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst Spacer = styled.div`\r\n  height: 4rem;\r\n`;\r\n\r\nconst Navbar = ({logoutAsync,history,isModal,modalOpenAction,modalCloseAction,editPasswordAsync}) => {\r\n  return (\r\n    <>\r\n      <HeaderBlock>\r\n        <Wrapper>\r\n          <div className='logo'>음악 편집 페이지</div>\r\n          <div className='right2'><PasswordModal\r\n            modalOpenAction={modalOpenAction}\r\n            modalCloseAction={modalCloseAction}\r\n            isModal={isModal}\r\n            editPasswordAsync={editPasswordAsync}\r\n          /></div>\r\n          <div className='right'><Button onClick={()=>{\r\n            logoutAsync()\r\n            history.push('/login')\r\n            }}>로그아웃</Button></div>\r\n        </Wrapper>\r\n      </HeaderBlock>\r\n      <Spacer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);","import React from 'react';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {logoutAsync,modalOpenAction,modalCloseAction,editPasswordAsync} from '../modules/auth'\r\nimport Navbar from '../components/Navbar'\r\n\r\nconst NavbarContainer = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const {isModal,accessToken} = useSelector(({auth})=>({accessToken:auth.accessToken,isModal:auth.isModal}))\r\n  return (\r\n    <Navbar\r\n      accessToken={accessToken}\r\n      logoutAsync={()=>dispatch(logoutAsync())}\r\n      isModal={isModal}\r\n      modalOpenAction={()=>dispatch(modalOpenAction())}\r\n      modalCloseAction={()=>dispatch(modalCloseAction())}\r\n      editPasswordAsync={(id,password)=>dispatch(editPasswordAsync(id,password))}\r\n    />\r\n  );\r\n};\r\n\r\nexport default NavbarContainer;","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Modal from 'react-modal';\r\nimport styled from 'styled-components'\r\n\r\nconst RemoveBtn = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n  background:#ff6b6b;\r\n  color:white;\r\n  cursor:pointer;\r\n  &:hover{\r\n      color:#ff8787;\r\n  }\r\n`;\r\nconst EditBtn = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n  background:#22b8cf;\r\n  color:white;\r\n  cursor:pointer;\r\n  &:hover{\r\n      color:#22b8ef;\r\n  }\r\n`;\r\n \r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\nModal.setAppElement('#root')\r\n\r\n\r\nconst EditMusic = ({ele,getMusicListAsync,updateMusicListAsync,deleteMusicListAsync}) => {\r\n\r\n  var subtitle;\r\n  const [modalIsOpen,setIsOpen] = React.useState(false);\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  }\r\n \r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    subtitle.style.color = '#f00';\r\n  }\r\n \r\n  function closeModal(){\r\n    setIsOpen(false);\r\n  }\r\n\r\n  const [editTitle,setEditTitle] = useState(ele.title)\r\n  const [editArtist,setEditArtist] = useState(ele.artist)\r\n  const [editAlbum,setEditAlbum] = useState(ele.album)\r\n  const [editTrack,setEditTrack] = useState(ele.track)\r\n\r\n  return (\r\n    <>\r\n     <EditBtn onClick={openModal}>수정</EditBtn>\r\n        <Modal\r\n          isOpen={modalIsOpen}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Emit Music Modal\"\r\n        >\r\n \r\n          <h2 ref={_subtitle => (subtitle = _subtitle)}>음원 수정</h2>\r\n          <form onSubmit={(e)=>{e.preventDefault(); updateMusicListAsync({id:ele.id,title:editTitle,artist:editArtist,album:editAlbum,track:editTrack});closeModal()}}>\r\n            <div>title : <input value={editTitle} onChange={e=>{setEditTitle(e.target.value)}}/></div>\r\n            <div>artist : <input value={editArtist} onChange={e=>{setEditArtist(e.target.value)}}/></div>\r\n            <div>album : <input value={editAlbum} onChange={e=>{setEditAlbum(e.target.value)}}/></div>\r\n            <div>track : <input value={editTrack} onChange={e=>{setEditTrack(e.target.value)}}/></div>\r\n            \r\n            \r\n            <button type='submit'>저장</button>\r\n          </form>\r\n          <button onClick={closeModal}>닫기</button>\r\n        </Modal>\r\n    \r\n    <RemoveBtn onClick={()=>{\r\n      deleteMusicListAsync({id:ele.id})\r\n      }}>\r\n      삭제\r\n    </RemoveBtn>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditMusic;","import React, { useEffect, useState } from 'react';\r\nimport EditMusic from './EditMusic';\r\nimport styled from 'styled-components'\r\n\r\nconst List = styled.div`\r\n  min-height: 320px;\r\n  max-height: 513px;\r\n  overflow-y:auto;\r\n`;\r\nconst Item = styled.div`\r\n  padding:1rem;\r\n  display: flex;\r\n  align-items:center;\r\n  &:nth-child(even){\r\n      background: #f8f9fa;\r\n  }\r\n  &+&{\r\n    border-top:1px solid #dee2e6;\r\n  }\r\n`;\r\nconst Text = styled.div`\r\n  cursor:pointer;\r\n  flex:1;\r\n  display: flex;\r\n  align-items:center;\r\n`;\r\n\r\n\r\nconst MusicList = ({searchMusic,searchMusicAction,musicList,getMusicListAsync,updateMusicListAsync,deleteMusicListAsync}) => {\r\n  useEffect(()=>{\r\n    if(localStorage.accessToken) getMusicListAsync()\r\n  },[localStorage.accessToken])\r\n\r\n  return (\r\n    <List>\r\n      {\r\n        (searchMusic.length===0) ?\r\n        musicList.map((ele,idx)=>(\r\n          <Item key={idx}>\r\n          <Text>\r\n          <span>{ele.title} - </span>\r\n          <span>{ele.artist} .mp3</span>\r\n          </Text>\r\n          <EditMusic \r\n            ele={ele}\r\n            getMusicListAsync={getMusicListAsync}\r\n            updateMusicListAsync={updateMusicListAsync}\r\n            deleteMusicListAsync={deleteMusicListAsync}\r\n          />\r\n          </Item>\r\n        ))\r\n        :\r\n        searchMusic.map((ele,idx)=>(\r\n          <Item key={idx}>\r\n          <Text>\r\n          <span>{ele.title}</span>\r\n          <span>{ele.artist}</span>\r\n          </Text>\r\n          <EditMusic \r\n            ele={ele}\r\n            getMusicListAsync={getMusicListAsync}\r\n            updateMusicListAsync={updateMusicListAsync}\r\n            deleteMusicListAsync={deleteMusicListAsync}\r\n          />\r\n          </Item>\r\n        ))\r\n      }\r\n      \r\n    </List>\r\n  );\r\n};\r\n\r\nexport default MusicList;","import { handleActions, createAction } from 'redux-actions'\r\nimport * as api from '../lib/api'\r\n\r\nconst GET_MUSIC = 'music/GET_MUSIC'\r\nconst SEARCH_MUSIC = 'music/SEARCH_MUSIC'\r\n\r\nexport const getMusicList = createAction(GET_MUSIC)\r\nexport const searchMusicAction = createAction(SEARCH_MUSIC)\r\n\r\nconst initialState = {\r\n  musicList:[],\r\n  searchMusic:[],\r\n}\r\n\r\nconst music = handleActions({\r\n  [GET_MUSIC]: (state, {payload:result}) => ({\r\n    ...state,\r\n    musicList:result\r\n  }),\r\n  [SEARCH_MUSIC]: (state, {payload:result}) => ({\r\n    ...state,\r\n    searchMusic: state.musicList.filter((ele)=>ele.title.indexOf(result)!==-1)\r\n  })\r\n  \r\n  \r\n},initialState)\r\n\r\nexport default music;\r\n\r\nexport const getMusicListAsync = () => async dispatch => {\r\n  try{\r\n    const result = await api.music.getMusicList()\r\n    dispatch(getMusicList(result))\r\n  } catch(err) {\r\n    console.error(err)\r\n  }\r\n}\r\nexport const updateMusicListAsync = ({id,title,artist,album,track}) => async dispatch => {\r\n  try{\r\n    const result = await api.music.updateMusic({id,title,artist,album,track})\r\n    dispatch(getMusicList(result))\r\n  } catch(err) {\r\n    console.error(err)\r\n  }\r\n}\r\nexport const deleteMusicListAsync = ({id}) => async dispatch => {\r\n  try{\r\n    const result = await api.music.deleteMusic({id})\r\n    console.log('delete')\r\n    dispatch(getMusicList(result))\r\n  } catch(err) {\r\n    console.error(err)\r\n  }\r\n}\r\n\r\nexport const postMusicListAsync = (fd) => async dispatch => {\r\n  try{\r\n    const result = await api.music.postMusic(fd)\r\n    dispatch(getMusicList(result))\r\n  } catch(err) {\r\n    console.error(err)\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport * as api from '../lib/api'\r\nimport styled from 'styled-components';\r\n\r\nconst Form = styled.form`\r\n  display:flex;\r\n  align-items:center;\r\n`;\r\n\r\nconst Div = styled.div`\r\n  display:flex;\r\n`;\r\nconst Div2 = styled.div`\r\n  flex:1;\r\n`;//.........\r\n\r\nconst AddBtn = styled.button`\r\n  background:none;\r\n  outline:none;\r\n  border:none;\r\n  background:#868e96;\r\n  color:white;\r\n  padding-left:1rem;\r\n  padding-right:1rem;\r\n  font-size:1rem;\r\n  display:flex;\r\n  align-items:center;\r\n  cursor: pointer;\r\n  transition: 0.1s background ease-in;\r\n  &:hover{\r\n      background:#adb5bd;\r\n  }\r\n`;\r\n\r\nconst AddMusic = ({postMusicListAsync}) => {\r\n  \r\n  return (\r\n    <Div>\r\n      <Div2></Div2>\r\n      <Form onSubmit={(e)=>{\r\n        let fd = new FormData(e.target);\r\n        e.preventDefault();\r\n        postMusicListAsync(fd)\r\n        }} \r\n        encType=\"multipart/form-data\">\r\n        <input type=\"file\" name=\"mp3\" accept=\"audio/mp3\"/>\r\n        <AddBtn type='submit'>추가</AddBtn>\r\n      </Form>\r\n      \r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default AddMusic;  ","import React, { useState } from 'react';\r\nimport styled from 'styled-components'\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  background:#495057;\r\n  input{\r\n      background: none;\r\n      outline: none;\r\n      border:none;\r\n      padding:0.5rem;\r\n      font-size:1.125rem;\r\n      line-height: 1.5;\r\n      color:white;\r\n      &::placeholder{\r\n          color:#dee2e6;\r\n      }\r\n      flex:1;\r\n  }\r\n  button{\r\n      background:none;\r\n      outline:none;\r\n      border:none;\r\n      background:#868e96;\r\n      color:white;\r\n      padding-left:1rem;\r\n      padding-right:1rem;\r\n      font-size:1.5rem;\r\n      display:flex;\r\n      align-items:center;\r\n      cursor: pointer;\r\n      transition: 0.1s background ease-in;\r\n      &:hover{\r\n          background:#adb5bd;\r\n      }\r\n  }\r\n  `;\r\n\r\n\r\nconst Search = ({searchMusic,searchMusicAction}) => {\r\n  const [search,setSearch] = useState('')\r\n  return (\r\n    <Form onSubmit={(e)=>{e.preventDefault();searchMusicAction(search)}}>\r\n      <input placeholder='제목을 입력하세요' value={search} onChange={(e)=>{setSearch(e.target.value)}}/>\r\n      <button>검색</button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Search;","import React, { useEffect } from 'react';\r\nimport MusicList from '../components/MusicList';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {getMusicListAsync,updateMusicListAsync,deleteMusicListAsync,postMusicListAsync,searchMusicAction} from '../modules/music'\r\nimport AddMusic from '../components/AddMusic';\r\nimport Search from '../components/Search';\r\n\r\n\r\nconst MusicContainer = () => {\r\n  const {musicList,searchMusic} = useSelector(({music})=>({\r\n    searchMusic:music.searchMusic,\r\n    musicList:music.musicList\r\n  }))\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <>\r\n    <Search\r\n      searchMusic={searchMusic}\r\n      searchMusicAction={(result)=>dispatch(searchMusicAction(result))}\r\n    />\r\n    <MusicList\r\n      searchMusic={searchMusic}\r\n      musicList={musicList}\r\n      getMusicListAsync={()=>dispatch(getMusicListAsync())}\r\n      updateMusicListAsync={({id,title,artist,album,track})=>dispatch(updateMusicListAsync({id,title,artist,album,track}))}\r\n      deleteMusicListAsync={({id})=>{\r\n        return dispatch(deleteMusicListAsync({id}))\r\n      }}\r\n      searchMusicAction={(result)=>dispatch(searchMusicAction(result))}\r\n    />\r\n    <AddMusic\r\n    postMusicListAsync={(fd)=>dispatch(postMusicListAsync(fd))}\r\n    />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MusicContainer;","import React from 'react';\r\nimport NavbarContainer from '../containers/NavbarContainer';\r\nimport MusicContainer from '../containers/MusicContainer';\r\nimport Search from './Search';\r\nimport AddMusic from './AddMusic';\r\nimport styled from 'styled-components'\r\n\r\nconst Template = styled.div`\r\n  width:1024px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 6rem;\r\n  border-radius:4px;\r\n  overflow: hidden;\r\n  background: white;\r\n\r\n`;\r\n\r\nconst MusicPage = () => {\r\n  return (\r\n    <div>\r\n      <NavbarContainer/>\r\n      <Template>\r\n      <MusicContainer/>\r\n      </Template>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MusicPage;","import React from 'react';\nimport {Route,Redirect,withRouter} from 'react-router-dom'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport MusicPage from './components/MusicPage';\n\nfunction App({history}) {\n  React.useEffect(()=>{\n    if(!localStorage.accessToken){\n      history.push('/login')\n    }\n  },[])\n\n  return (\n    <>\n      <MusicPage/>\n      <Route component={Login} path='/login'/>\n      <Route component={Register} path='/register'/>\n    </>\n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from 'redux'\r\nimport auth from './auth.js'\r\nimport music from './music.js'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth,\r\n  music,\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter } from 'react-router-dom'\n\n//Redux초기화\nimport { combineReducers } from 'redux'\n\n//스토어 생성함수, 미들웨어 처리 함수\nimport { createStore, applyMiddleware } from 'redux'\n//전체 App을 리덕스에 구독시키기 위한 프로바이더\nimport { Provider } from 'react-redux'\n//크롬개발자도구에 데브툴 연동(선택사항)\nimport { composeWithDevTools } from 'redux-devtools-extension'\n//미들웨어 임폴트\nimport ReduxThunk from 'redux-thunk'\n//리듀서 꺼네기\nimport rootReducer from './modules'\nimport {loginSuccessAction} from './modules/auth'\n\nimport * as api from './lib/api' \n\n//해석:스토어를 만들겠다 리듀서를 써서 composeWithDevTools()은 선택, 미들웨어는 ,ReduxThunk 다 라는 뜻\nconst store = createStore(rootReducer,composeWithDevTools(applyMiddleware(ReduxThunk)))\n\nfunction loadUser(){\n  try{\n    const {accessToken} = localStorage;\n    if(!accessToken) return;\n\n    store.dispatch(loginSuccessAction({accessToken}))\n    api.setAuthInHeader(accessToken)\n  } catch (err) {\n    console.log('로컬스토리지 x')\n  }\n}\nloadUser()\n\nReactDOM.render(<Provider store={store}><BrowserRouter><App /></BrowserRouter></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}